var w=Object.defineProperty;var l=(s,a,r)=>a in s?w(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r;var d=(s,a,r)=>l(s,typeof a!="symbol"?a+"":a,r);function i(s,a){return{get fetch(){return(r,e)=>fetch(`${s}${r}`,{...e,headers:{...a,...e==null?void 0:e.headers}})},get get(){return async(r,e)=>{if(e!=null&&e.params){const c=new URLSearchParams;for(const[h,u]of Object.entries(e.params))u!=null&&c.append(h,u.toString());r+="?"+c.toString()}const t=await this.fetch(r,e);if(!t.ok){let c;try{c=await t.json()}catch(h){throw new f({response:t,cause:h})}throw new f({response:t,data:c})}const n=(e==null?void 0:e.responseType)||"json";if(n==="json")return await t.json();if(n==="text")return await t.text();throw new Error(`Unsupported response type: ${n}`)}},get post(){return async(r,e)=>{const t=e??{};return t.headers={"Content-Type":"application/json",...(e==null?void 0:e.headers)??{}},await this.get(r,{...t,method:"POST"})}}}}class f extends Error{constructor({response:r,data:e,cause:t}){super(`Response status: ${r.status}`);d(this,"response");d(this,"data");this.name="FetchError",this.response=r,this.data=e,this.cause=t}}const y=i("https://api.coingecko.com/api/v3/");export{y as c};
